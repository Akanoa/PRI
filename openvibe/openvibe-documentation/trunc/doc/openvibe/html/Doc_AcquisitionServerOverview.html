<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OpenViBE documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<!-- <link href="tabs.css" rel="stylesheet" type="text/css"> -->
</head>
<body>
<div id="main">
	<div id="title">
		<center>
		<a name="page-top"></a>
		<table width=95%>
			<tr>
				<td><a href="http://openvibe.inria.fr" class="leaving-link" onclick="window.open(this.href,'openvibe-software'); return false;"><img src="logo.png" /></a></td>
				<td width=100%>OpenViBE Documentation</td>
			</tr>
		</table>
		</center>
	</div>
	<div id="menu">
		<div id="menu-content">
			<ul>
				<li><a href="index.html">OpenViBE Documentation</a></li>
			</ul>
			<div class="menu-title">Doxygen</div>
			<ul>
				<!-- <li><a href="pages.html">Related</a></li> -->
				<li><a href="modules.html">Modules</a></li>
				<li><a href="namespaces.html">Namespaces</a></li>
				<li><a href="annotated.html">Class List</a>
				<li><a href="classes.html">Class Index</a>
				<li><a href="hierarchy.html">Class Hierarchy</a>
				<!-- <li><a href="files.html">Files (buggy)</a></li> -->
			</ul>
			<div class="menu-title">Quick Access</div>
			<ul>
				<li><a href="http://openvibe.inria.fr/start" class="leaving-link">Video Tutorials</a></li>
				<li><a href="http://openvibe.inria.fr/faq">FAQ</a></li>
				<li><a href="http://openvibe.inria.fr/license">Licence</a></li>
				<li><a href="http://openvibe.inria.fr/build-instructions/">Build Instructions</a></li>
				<li><a href="http://openvibe.inria.fr/documentation-index/#User+Documentation">User Doc</a></li>
				<li><a href="http://openvibe.inria.fr/documentation-index/#Developer+Documentation">Developer Doc</a></li>
				<li><a href="Doc_BoxAlgorithms.html">Exisiting Boxes</a></li>
			</ul>
			<div class="menu-title">Contact</div>
			<ul>
				<li><a href="http://openvibe.inria.fr" class="leaving-link" onclick="window.open(this.href,'openvibe-software'); return false;">Software Home</a></li>
				<li><a href="http://openvibe.inria.fr/forum" class="leaving-link" onclick="window.open(this.href,'openvibe-forum'); return false;">Forum</a></li>
				<li><a href="https://gforge.inria.fr/projects/openvibe" class="leaving-link" onclick="window.open(this.href,'openvibe-forge'); return false;">INRIA gForge</a></li>
				<li><a href="https://gforge.inria.fr/mail/?group_id=276" class="leaving-link" onclick="window.open(this.href,'openvibe-forge'); return false;">Mailing Lists</a></li>
				<li><a href="http://openvibe.inria.fr/tracker" class="leaving-link" onclick="window.open(this.href,'openvibe-tracker'); return false;">Bug Tracker</a></li>
				<li><a href="http://www.irisa.fr/bunraku/OpenViBE/wiki/index.php?title=Main_Page" class="leaving-link" onclick="window.open(this.href,'openvibe-wiki'); return false;">Research Project</a></li>
				<li><b>IRC</b> : <span style="font-size: x-small; font-style: italic;">#openvibe</span> on <span style="font-size: x-small; font-style: italic;">irc.freenode.net</span></li>
				<li><b>Project Leader</b> : Anatole L&eacute;cuyer, Inria <span style="font-size: x-small; font-style: italic;">(anatole dot lecuyer at inria dot fr)</span></li>
				<li><b>Lead Software Engineer</b> : Laurent Bonnet, Inria <span style="font-size: x-small; font-style: italic;">(laurent dot bonnet at inria dot fr)</span></li>
			</ul>
			<div class="menu-title">Share this</div>
			<ul><li><span style="font-size: x-small; font-style: italic;">This documentation is licenced under <b>CC-BY-SA</b></span></li></ul>
			<td><a href="http://creativecommons.org/licenses/by-sa/3.0/legalcode" class="leaving-link" onclick="window.open(this.href,'cc-by-sa'); return false;"><img src="cc-by-sa.png" /></a></td>
			<br>
			<div class="menu-title">Search</div>
			<form action="search.php" method="get" id="search">
				<fieldset>
					<input class="search" type="text" name="q" value="Quick Search..." onfocus="this.value='';" />
				</fieldset>
			</form>
		</div>
	</div>
	<div class="content-container">
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="Doc_UserDocumentation.html">User Documentation</a></li><li class="navelem"><a class="el" href="Doc_AcquisitionServerUserDocumentation.html">Acquisition server user documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> Acquisition Server </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="important"> This documentation page is deprecated since <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> 0.12.0 (oct 2011), and won't be maintained.  The new page can be found  <a href="http://openvibe.inria.fr/acquisition-server/"> here </a> .</div><ul>
<li><b>NB:</b> Document based on <b> <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> 0.10.0 </b> (april-2010).</li>
</ul>
<h1><a class="anchor" id="Doc_AcquisitionServerOverview_Introduction"></a>
Introduction</h1>
<p><a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> Acquisition Server is a tool designed to communicate with hardware signal acquisition devices and forward acquired signals and other experiment information to <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> applications in a way compliant with the <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> format specification.</p>
<p>The acquisition server doesn't communicate directly with acquisition devices. Instead, it provides the user with a set of drivers to choose from, each one being dedicated to a given device model. New devices can be supported by the server by developing new drivers. See <a class="el" href="Doc_CreatingANewDriver.html">Tutorial: creating a new driver for the acquisition server</a> for details on this.</p>
<h1><a class="anchor" id="Doc_AcquisitionServerOverview_Configuration"></a>
Configuration</h1>
<p>Let's have a look at the graphical interface of the acquisition server tool to present what parameters must be configured before it can be used to acquire and forward data. The server GUI should look like the following :</p>
<div class="image">
<img src="acquisition_server_gui.png" />
</div>
 <center><b>Fig.1 Acquisition Server GUI.</b></center><h2><a class="anchor" id="Doc_AcquisitionServerOverview_Drivers"></a>
Acquisition Device Drivers</h2>
<p>A list of available drivers is accessible under 'drivers'. Depending on your distribution of <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a>, a number of drivers may already be at hand. At least one driver should be available : the Generic Oscillator. Contrary to most drivers, this one doesn't connect to any hardware device, but generates sinusoidal signals. It is appropriate for testing purposes. To change the default driver presented when launching the Acquisition Server, add the following token to your configuration file : </p>
<div class="fragment"><div class="line"><span class="preprocessor"># set the default driver :</span></div>
<div class="line"><span class="preprocessor">AcquisitionServer_DefaultDriver = Generic Raw Telnet Reader</span></div>
</div><!-- fragment --><p> If you don't specify any driver that way, the driver presented upon startup is the latest used during previous execution.</p>
<h2><a class="anchor" id="Doc_AcquisitionServerOverview_ConnectionSettings"></a>
Connection Settings</h2>
<p>In order to use a driver, connection details should be set so that the server communicates with connected <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> applications as desired. The port to which to send data can be changed under 'Connection Port' (e.g. 1024 is a standard default setting). An <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a> application will then have to fetch data from this port once an experiment is started. Also, the size of the buffers sent to connected applications may be configured under 'Sample count per sent block'. This defines how many samples should be sent per acquired channel in a single buffer. Valid values are powers-of-two and 32 is the default. The duration or 'epoch' a buffer corresponds to depends on the sampling frequency, which may be set in the Driver Properties dialog (see <a class="el" href="Doc_AcquisitionServerOverview.html#Doc_AcquisitionServerOverview_DriverProperties">Driver Properties</a>)</p>
<h2><a class="anchor" id="Doc_AcquisitionServerOverview_DriverProperties"></a>
Driver Properties</h2>
<p>Once a driver is selected from the drop-down list and before it can be used, its settings should be configured appropriately. Settings provide information about the experiment being conducted and the subject undergoing the experiment. The 'Driver Properties' button pops up the settings dialog of the currently selected driver. It displays settings that can't be retrieved from the hardware and that have to be filled up by the user. They may vary between drivers. For example, the Generic Oscillator settings include information about the subject (identifier, age, gender) and the experiment (number of channels to be acquired, sampling frequency, channel names).</p>
<div class="image">
<img src="driver_settings.png" />
</div>
 <center><b>Fig.2 Generic Oscillator settings.</b></center><h2><a class="anchor" id="Doc_AcquisitionServerOverview_Drift"></a>
Acquition Server Preferences</h2>
<p>Various global settings can be accessed through the 'Preferences' button. Most users will leave these parameters as default.</p>
<div class="image">
<img src="acquisition_server_settings.png" />
</div>
 <center><b>Fig.3 Global settings.</b></center><p>The Acquisition Server monitors the behaviour of the driver in order to ensure that it actually sends the number of samples it should, regarding the theorical sampling frequency of the device. When a drift is detected, you will see a progress bar going on the left or right (not enough or too much samples). When the drift reaches a threshold, an automatic correction is done : the Acquisition Server removes or duplicates some samples, and sends stimulation(s) to any acquisition client connected, so you can know in the signal that a correction just occured. The stimulations used are tagged <b>OVTK_GDF_Correct</b> and <b>OVTK_GDF_Incorrect</b>.</p>
<p>Here is the parameters you can set for the the Drift Correction:</p>
<ul>
<li><b>Drift</b> <b>correction</b> : either Forced, Disabled, or driver dependant.</li>
<li><b>Drift</b> <b>Tolerance</b> (ms) : when reaching a drift duration of that value, a correction is triggered.</li>
<li><b>Jitter</b> <b>Estimation</b> <b>Count</b> <b>for</b> <b>Drift</b> : the window in number of "block" used to compute the drift.</li>
</ul>
<p>The other settings are :</p>
<ul>
<li><b>Oversampling</b> <b>Factor</b> : multiply the sampling frequency of the acquired signal, using linear interpolation.</li>
<li><b>Impedance</b> <b>Check</b> : some drivers make use of the Acquisition Server impedance checker, this functionnality can be turned on.</li>
</ul>
<h1><a class="anchor" id="Doc_AcquisitionServerOverview_Usage"></a>
Usage</h1>
<p>Once a device driver has been selected and relevant settings configured, data acquisition can start. The server should first connect to the acquisition device, which is done by clicking the 'Connect' button. A label will inform the user whether the connection was successful.</p>
<p>If the connection was established and the device(s) successfully connected, data sampling can be started/stopped by clicking 'Play'/'Stop'.</p>
<p>Once a driver is 'connected' and 'playing', the clients (e.g. acquisition client boxes in a Designer scenario) may be started : press 'play' in the designer. Data should be received, decoded and sent through the openvibe pipeline you deisgned.</p>
<p>In the acquisition server window, you should see the number of client connected to your server (e.g. '2 hosts connected')</p>
<p>If you don't receive any signal from the acquisition client (e.g. you don't manage to display any signal), look in the console. If you find the following message : </p>
<div class="fragment"><div class="line">[WARNING] At time 402653184 (0x18000000) &lt;Box algorithm::Acquisition client&gt; Could not receive memory buffer size</div>
<div class="line">[WARNING] Box algorithm &lt;Acquisition client&gt; has been deactivated because process phase returned bad status</div>
</div><!-- fragment --><p> The acquisition server is connected, but stopped. Press 'Play' in the acquisition server then play your scenario again. </p>
</div></div><!-- contents -->
	</div>
	<div class='clear-both'></div>
	<div id="footer">
		<center>
		<table width=95%>
			<tr>
				<td style="text-align:left;"><a href="#page-top">Back to top</a></td>
				<td style="text-align:right;">Generated on Fri Sep 26 2014 00:47:34 for Documentation by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.1.2</td>
			</tr>
		</table>
		</center>
	</div>
</div>
</body>
</html>
