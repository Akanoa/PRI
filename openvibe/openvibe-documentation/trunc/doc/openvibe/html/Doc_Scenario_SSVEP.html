<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OpenViBE documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<!-- <link href="tabs.css" rel="stylesheet" type="text/css"> -->
</head>
<body>
<div id="main">
	<div id="title">
		<center>
		<a name="page-top"></a>
		<table width=95%>
			<tr>
				<td><a href="http://openvibe.inria.fr" class="leaving-link" onclick="window.open(this.href,'openvibe-software'); return false;"><img src="logo.png" /></a></td>
				<td width=100%>OpenViBE Documentation</td>
			</tr>
		</table>
		</center>
	</div>
	<div id="menu">
		<div id="menu-content">
			<ul>
				<li><a href="index.html">OpenViBE Documentation</a></li>
			</ul>
			<div class="menu-title">Doxygen</div>
			<ul>
				<!-- <li><a href="pages.html">Related</a></li> -->
				<li><a href="modules.html">Modules</a></li>
				<li><a href="namespaces.html">Namespaces</a></li>
				<li><a href="annotated.html">Class List</a>
				<li><a href="classes.html">Class Index</a>
				<li><a href="hierarchy.html">Class Hierarchy</a>
				<!-- <li><a href="files.html">Files (buggy)</a></li> -->
			</ul>
			<div class="menu-title">Quick Access</div>
			<ul>
				<li><a href="http://openvibe.inria.fr/start" class="leaving-link">Video Tutorials</a></li>
				<li><a href="http://openvibe.inria.fr/faq">FAQ</a></li>
				<li><a href="http://openvibe.inria.fr/license">Licence</a></li>
				<li><a href="http://openvibe.inria.fr/build-instructions/">Build Instructions</a></li>
				<li><a href="http://openvibe.inria.fr/documentation-index/#User+Documentation">User Doc</a></li>
				<li><a href="http://openvibe.inria.fr/documentation-index/#Developer+Documentation">Developer Doc</a></li>
				<li><a href="Doc_BoxAlgorithms.html">Exisiting Boxes</a></li>
			</ul>
			<div class="menu-title">Contact</div>
			<ul>
				<li><a href="http://openvibe.inria.fr" class="leaving-link" onclick="window.open(this.href,'openvibe-software'); return false;">Software Home</a></li>
				<li><a href="http://openvibe.inria.fr/forum" class="leaving-link" onclick="window.open(this.href,'openvibe-forum'); return false;">Forum</a></li>
				<li><a href="https://gforge.inria.fr/projects/openvibe" class="leaving-link" onclick="window.open(this.href,'openvibe-forge'); return false;">INRIA gForge</a></li>
				<li><a href="https://gforge.inria.fr/mail/?group_id=276" class="leaving-link" onclick="window.open(this.href,'openvibe-forge'); return false;">Mailing Lists</a></li>
				<li><a href="http://openvibe.inria.fr/tracker" class="leaving-link" onclick="window.open(this.href,'openvibe-tracker'); return false;">Bug Tracker</a></li>
				<li><a href="http://www.irisa.fr/bunraku/OpenViBE/wiki/index.php?title=Main_Page" class="leaving-link" onclick="window.open(this.href,'openvibe-wiki'); return false;">Research Project</a></li>
				<li><b>IRC</b> : <span style="font-size: x-small; font-style: italic;">#openvibe</span> on <span style="font-size: x-small; font-style: italic;">irc.freenode.net</span></li>
				<li><b>Project Leader</b> : Anatole L&eacute;cuyer, Inria <span style="font-size: x-small; font-style: italic;">(anatole dot lecuyer at inria dot fr)</span></li>
				<li><b>Lead Software Engineer</b> : Laurent Bonnet, Inria <span style="font-size: x-small; font-style: italic;">(laurent dot bonnet at inria dot fr)</span></li>
			</ul>
			<div class="menu-title">Share this</div>
			<ul><li><span style="font-size: x-small; font-style: italic;">This documentation is licenced under <b>CC-BY-SA</b></span></li></ul>
			<td><a href="http://creativecommons.org/licenses/by-sa/3.0/legalcode" class="leaving-link" onclick="window.open(this.href,'cc-by-sa'); return false;"><img src="cc-by-sa.png" /></a></td>
			<br>
			<div class="menu-title">Search</div>
			<form action="search.php" method="get" id="search">
				<fieldset>
					<input class="search" type="text" name="q" value="Quick Search..." onfocus="this.value='';" />
				</fieldset>
			</form>
		</div>
	</div>
	<div class="content-container">
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="Doc_UserDocumentation.html">User Documentation</a></li><li class="navelem"><a class="el" href="Doc_Scenario.html">Existing scenarios</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Steady-State Visual-Evoked Potentials </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Doc_Scenario_SSVEP_Principle"></a>
Principle :</h1>
<p>Steady-State Visual-Evoked Potential is a brain response induced by a visual stimulus, flickering at a constant frequency between approximatively 6 and 100Hz. The response manifests itself as an increase of amplitude of the stimulated frequency.</p>
<p>This scenario will illustrate a typical SSVEP experiment. In a few steps you will be able to test a SSVEP-based BCI. These steps are: </p>
<pre class="fragment">    - experiment configuration
    - training data acquisition
   - classifier training
   - online test
</pre><p>In addition to this documentation, each of the scenarios is commented and provides some additional information.</p>
<h1><a class="anchor" id="Doc_Scenario_SSVEP_Protocol"></a>
Protocol :</h1>
<h2><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step1"></a>
1st step: Configuration</h2>
<p>Scenario to use : <b>ssvep-bci-1-ssvep-configuration</b></p>
<p>In the configuration scenario you will find two configurable boxes.</p>
<h3><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step1_Peripheral_Settings"></a>
Peripheral Settings</h3>
<p>First, you have to input information about your hardware into the <b>Peripheral Settings</b> box. Currently there is only one setting available: </p>
<pre class="fragment">    - &lt;em&gt;Display Refresh Rate&lt;/em&gt; : This setting must match the refresh rate of the screen
     connected to the computer running the stimulator. This refresh rate will determine which
     frequencies will be usable for the experiment. We recommend using a standard 60Hz LCD screen.
</pre><p><b>Important : A word about the stimulation frequencies</b></p>
<p>SSVEP-based BCI experiments need to reproduce a flickering stimulus at a constant frequency. In <a class="el" href="namespaceOpenViBE.html" title="Main OpenViBE namespace.">OpenViBE</a>, we use the computer screen as the flickering device. Thus, a flickering object (or "target") is represented by a shape which changes color at a constant frequency.</p>
<p>In order for the SSVEP to work, this change of color must occur at precise intervals. It is thus necessary to redraw the targets in a synchronized way with the screen. This means, that the frequencies which can be achieved depend on the refresh rate of the screen. In practice, only frequencies which are entire divisions of the screen's base refresh rate will be possible to achieve. (e.g.: On a screen with refresh rate of 60Hz, displaying of frequencies of 30, 20, 15, 12, 10 and lower will be possible. On a 50Hz screen, you will be able to use 25, 16.66, 12.5, 10 and lower frequencies)</p>
<p>The following picture illustrates the representation of several frequencies on a 60Hz screen:</p>
<div class="image">
<img src="frequency-patterns.png" alt="frequency-patterns.png"/>
</div>
<h3><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step1_Experiment_Settings"></a>
Experiment Settings</h3>
<p>Once you have configured your peripherals, you can use the next box called <b>Experiment Settings</b> to configure your SSVEP experiment. Several settings are available: </p>
<pre class="fragment">   - &lt;em&gt;Target Light Color&lt;/em&gt; and &lt;em&gt;Target Dark Color&lt;/em&gt; : As described previously, the
     flickering of the targets is achieved by switching between two colors. The names Light and
     Dark were selected arbitrarily and you can choose any colors you like. In order to achieve
     better SSVEP response try to choose contrasting colors (such as red and black), by default the
     scenario uses red and dark gray.\n
     Default values :\n
      - Target Light Color : 100,0,0\n
      - Target Dark Color : 10,10,10

   - &lt;em&gt;Stimulation Frequencies&lt;/em&gt; : A semicolon-separated list of frequencies to be used during
     the stimulation. The scenario which comes with OpenViBE only uses three stimulation
     frequencies, however if you modify the processing chain manually you will be able to use more
     frequencies.\n
     The frequencies are to be inserted as float values. Be precise (a frequency corresponding to
     50/3 is better written as 16.6666 rather than 16.6), the stimulator will use these values to
     automatically calculate the number of frames necessary to represent the frequency according to
     your screen refresh rate and will raise errors if any of the frequencies is impossible to
     achieve.\n
      - Default value : 20;15;12

   - &lt;em&gt;Processing Epoch Duration&lt;/em&gt; : The processing of the EEG signal consists of slicing it
     into periods of time and then extracting amplitudes of brainwaves in each of the stimulated
     frequency bands. This parameter determines the length of each slice in seconds. The longer the
     epoch, the better the detection and the longer the lag.\n
      - Default value : 0.5

   - &lt;em&gt;Processing Epoch Interval&lt;/em&gt; : The speed (in seconds) at which will be the slices
     captured. A smaller interval will provide a more fluid control, a lower one will make the
     control more precise.\n
      - Default value : 0.1

   - &lt;em&gt;Processing Frequency Tolerance&lt;/em&gt; : As mentioned above, the processing chain will search
     for increased activity around the stimulated frequencies. This parameter determines the width
     of the searched bands. (e.g: a tolerance of 0.250 Hz means that the program will consider
     frequencies from 19.75 to 20.25 Hz to determine whether the 20 Hz frequency was stimulated)\n
      - Default value : 0.250
</pre><p><b>Hint:</b> Once you have configured your experiment you can save your settings as a box configuration file for later re-use. A file containing the default settings is provided in the SSVEP scenario folder.</p>
<p>Once you are satisfied with your configuration just press <b>play</b>. The scenario will create necessary configuration files and will stop itself automatically.</p>
<h2><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step2"></a>
2nd step: Training</h2>
<p>Scenario to use : <b>ssvep-bci-2-training-acquisition</b></p>
<p>After configuring the scenario you can proceed to the training phase. The SSVEP scenarios use Common Spatial Pattern (CSP) spatial filter to select the best characteristics automatically. This means that you can place the electrodes on any part of the scalp in the occipital area. Good results were measured with electrodes Oz, O1, O2, CPz, POz and Iz.</p>
<p>After launching the training scenario you will be presented by a window showing (by default) three squares - Training Targets. One additional square is added to represent no-stimulation. This square will not flicker at any time of the experiment. Once the scenario is started, a window will appear, you will then have to press the <em>space</em> to launch the training.</p>
<div class="image">
<img src="training.png" alt="training.png"/>
</div>
<h3><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step2_Experimental_Protocol"></a>
Experimental Protocol</h3>
<p>During the experience periods of stimulation (when the targets will flicker, each at its predefined frequency) will repeat with break periods (no flickering) in between. Before each stimulation period one of the squares will be marked by a yellow arrow. The subject must then focus his visual attention at the marked square for the whole stimulation period.</p>
<p>Each square will be marked several times during the whole experiment. At the end of the procedure a file containing an annotated EEG signal will be produced. This file is saved (by default) in the <code>OPENVIBE_FOLDER/dist/share/openvibe-scenarios/signals</code> folder.</p>
<p>The experiment is already configured for three frequencies, each of them will be stimulated eight times. If you wish you can configure the scenario by modifying settings in the <b>SSVEP Training Controller</b> box. The settings are as follows: </p>
<pre class="fragment">    - &lt;em&gt;Goal sequence&lt;/em&gt; : Indexes of squares to be marked separated by spaces. Note that the
     square number 0 never flickers. Thus if you have defined three stimulation frequencies you
     will have to use indexes 0, 1, 2 and 3. The non-flickering target is used to define a level
     when the subject does not want to use any command.\n
      - Default value : 0 2 3 1 2 1 0 3 1 2 3 0 2 0 3 1 0 3 1 2 3 0 1 2 1 3 2 0 3 2 0 1 

   - &lt;em&gt;Stimulation duration&lt;/em&gt; : Duration (in seconds) of the stimulation period.\n
      - Default value : 7.0

   - &lt;em&gt;Break duration&lt;/em&gt; : Duration (in seconds) of the break period.\n
      - Default value : 4.0

   - &lt;em&gt;Flickering delay&lt;/em&gt; : Time (in seconds) between the appearance of the arrow marking the
     square to stimulate and the beginning of the flickering.\n
      - Default value : 1.0

   - &lt;em&gt;Training Target Size&lt;/em&gt; : The size of the target. The size is given as a proportion to
     the viewport's size. Thus a size of 0.5;0.1 will mean that the target will be a
     rectangle with a width equal to a half of the viewport's width and height equal to 1/10 of the
     viewport's height. The viewport - the area used for display - is the largest square which fits
     the window, this means that a target with same width and height ratio will always be a
     square.\n
      - Default value : 0.3;0.3

    - &lt;em&gt;Training Targets' Positions&lt;/em&gt; : Positions of the middles of the targets. There are N+1 targets,
     considering N as the number of frequencies. The first one is the blank target mentioned
     before. Positions are noted as relative offsets to the middle of the viewport. A position
     0.0;0.0 thus represents the middle of the viewport. Position 1.0;1.0 its top right corner and
     -1.0;-1.0 the bottom left.\n
      - Default value : (0.0;0.0);(0.0;0.5);(-0.5;0.0);(0.5;0.0)
</pre><p>A configuration file with the default settings is available in the SSVEP scenarios folder as well.</p>
<p>Once the training session is finished, the stimulation application will close itself automatically and the scenario will stop. If you quit the stimulator at any moment (by pressing <em>ESC</em>) the scenario will stop as well.</p>
<h3><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step2_Classifier_Training"></a>
Classifier Training</h3>
<p>Once you have acquired the training data you can use the <em>training</em> scenarios to create classifiers necessary for online testing.</p>
<p>First Scenario to use : <b>ssvep-bci-3-CSP-training</b></p>
<p>First you will need to run the CSP training to generate the best characteristics from the acquired signals.</p>
<p>You will have to load the EEG data recording from the training acquisition step into the <b>Generic file reader</b> box.</p>
<p>Second Scenario to use : <b>ssvep-bci-4-classifier-training</b></p>
<p>This scenario will create the final classifiers for online testing. One classifier configuration will be created for each frequency. At the end, the scenario will provide results of a K-fold cross validation test.</p>
<p>You will have to load the EEG data recording from the training acquisition step into the <b>Generic file reader</b> box.</p>
<h2><a class="anchor" id="Doc_Scenario_SSVEP_Protocol_Step3"></a>
Step 3: Online Evaluation</h2>
<p>Scenario to use : <b>ssvep-bci-5-online-shooter</b></p>
<p>The final scenario consists of a simple shooter game. The subject will control a "ship" represented by two wings (flickering squares at the sides) and a cannon (a flickering triangle on the top). By looking at each of the shapes the user can issue three commands.</p>
<div class="image">
<img src="online-shooter.png" alt="online-shooter.png"/>
</div>
 <pre class="fragment">    - &lt;em&gt;Left Wing&lt;/em&gt; : Turn ship clockwise

    - &lt;em&gt;Right Wing&lt;/em&gt; : Turn ship counter-clockwise

   - &lt;em&gt;Cannon&lt;/em&gt; : Shoot!
</pre><p>The goal of the game is to shoot each of the appearing targets. A new target will appear when the one on screen is destroyed.</p>
<p>You can modify some parameters of the game in the <b>SSVEP Shooter Controller</b> box. </p>
<pre class="fragment">    - &lt;em&gt;Target sequence&lt;/em&gt; : The positions in which the targets will appear. There are eight
     possible positions, numbered from 0 to 7.\n
      - Default value : 0 3 5 7 2 6 4 1

   - &lt;em&gt;Ship Angular Speed&lt;/em&gt; : The angle (in radians) by which the ship will rotate every time
     it receives a command.
</pre><p>Once the scenario is started, a window will appear, you will then have to press the <em>space</em> key to start the game. When the game is finished, the stimulation application will close itself automatically and the scenario will stop. If you quit the stimulator at any moment (by pressing <em>ESC</em>) the scenario will stop as well. </p>
</div></div><!-- contents -->
	</div>
	<div class='clear-both'></div>
	<div id="footer">
		<center>
		<table width=95%>
			<tr>
				<td style="text-align:left;"><a href="#page-top">Back to top</a></td>
				<td style="text-align:right;">Generated on Fri Sep 26 2014 00:47:34 for Documentation by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.1.2</td>
			</tr>
		</table>
		</center>
	</div>
</div>
</body>
</html>
